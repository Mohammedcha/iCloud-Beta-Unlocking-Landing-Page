/*
Plugin: jQuery Parallax
Version 1.1.3
Author: Ian Lunn
Twitter: @IanLunn
Author URL: http://www.ianlunn.co.uk/
Plugin URL: http://www.ianlunn.co.uk/plugins/jquery-parallax/

Dual licensed under the MIT and GPL licenses:
http://www.opensource.org/licenses/mit-license.php
http://www.gnu.org/licenses/gpl.html
*/

(function( $ ){
	var $window = $(window);
	var windowHeight = $window.height();

	$window.resize(function () {
		windowHeight = $window.height();
	});

	$.fn.parallax = function(xpos, speedFactor, outerHeight) {
		var $this = $(this);
		var getHeight;
		var firstTop;
		var paddingTop = 0;
		
		//get the starting position of each element to have parallax applied to it		
		$this.each(function(){
		    firstTop = $this.offset().top;
		});

		if (outerHeight) {
			getHeight = function(jqo) {
				return jqo.outerHeight(true);
			};
		} else {
			getHeight = function(jqo) {
				return jqo.height();
			};
		}
			
		// setup defaults if arguments aren't specified
		if (arguments.length < 1 || xpos === null) xpos = "50%";
		if (arguments.length < 2 || speedFactor === null) speedFactor = 0.1;
		if (arguments.length < 3 || outerHeight === null) outerHeight = true;
		
		// function to be called whenever the window is scrolled or resized
		function update(){
			var pos = $window.scrollTop();				

			$this.each(function(){
				var $element = $(this);
				var top = $element.offset().top;
				var height = getHeight($element);

				// Check if totally above or totally below viewport
				if (top + height < pos || top > pos + windowHeight) {
					return;
				}

				$this.css('backgroundPosition', xpos + " " + Math.round((firstTop - pos) * speedFactor) + "px");
			});
		}		

		$window.bind('scroll', update).resize(update);
		update();
	};
})(jQuery);










/*!
 * Social Locker - v1.7.6, 2014-09-11 
 * for jQuery: http://onepress-media.com/plugin/social-locker-for-jquery/get 
 * for Wordpress: http://onepress-media.com/plugin/social-locker-for-wordpress/get 
 * 
 * Copyright 2014, OnePress, http://byonepress.com 
 * Help Desk: http://support.onepress-media.com/ 
*/

/*!
 * Preset resources for Social Locker.
 */

(function ($) {

    /**
    * Text resources.
    */

    if (!$.onepress) $.onepress = {};
    if (!$.onepress.sociallocker) $.onepress.sociallocker = {};
    if (!$.onepress.sociallocker.lang) $.onepress.sociallocker.lang = {};
    
    $.onepress.sociallocker.lang = {
        defaultHeader:          "This content is locked!",
        defaultMessage:         "Please support us, use one of the buttons below to unlock the content.",
        orWait:                 'or wait',
        seconds:                's',   
        close:                  'Close',
        error:                  'error',  
        unableToLoadSDK:        'Unable to load SDK script for {0}. Please make sure that nothing blocks loading of social scripts in your browser. Some browser extentions (Avast, PrivDog, AdBlock etc.) can cause this issue. Turn them off and try again.',     
        unableToCreateButton:   'Unable to create the button ({0}). Please make sure that nothing blocks loading of social scripts in your browser. Some browser extentions (Avast, PrivDog, AdBlock etc.) can cause this issue. Turn them off and try again.',     
        
        emptyVKAppIdError:          'Please set your VKontakte App ID.',
        emptyVKGroupIdError:        'Please set your VKontakte Group ID that users should subscribe to.',
        invalidVKGroupIdError:      'Please check your VKontakte Group ID. It seems the given group does not exist.',
        emptyFBAppIdError:          'Please set your Facebook App ID.',
        emptyTwitterFollowUrlError: 'Please set an URL of your Twitter profile.', 
        
        // default button labels
        facebook_like:      'like us',
        facebook_share:     'share',
        twitter_tweet:      'tweet',  
        twitter_follow:     'follow us on twitter',  
        google_plus:        '+1 us', 
        google_share:       'share',
        linkedin_share:     'share'          
    };  
    
    
    /**
    * Presets options for styles.
    * You can add some options that will be applied when a specified theme is used.
    */

    if (!$.onepress.sociallocker.presets) $.onepress.sociallocker.presets = {};
    
    /* starter theme */

    $.onepress.sociallocker.presets['starter'] = {
        
        buttons: {
            layout: 'horizontal',
            counter: true
        },
        effects: {
            flip: false
        }
    };
    
    /* secrets theme */
    
    $.onepress.sociallocker.presets['secrets'] = {

        buttons: {
            layout: 'horizontal',
            counter: true
        },
        effects: {
            flip: true
        }
    };
    
    /* dandyish theme */
    
    $.onepress.sociallocker.presets['dandyish'] = {

        buttons: {
            layout: 'vertical',
            counter: true,
            unsupported: ['twitter-follow']
        },
        effects: {
            flip: false
        }
    };
    
    /* glass theme */
    
    $.onepress.sociallocker.presets['glass'] = {
        _iPhoneBug: false,
        
        buttons: {
            layout: 'horizontal',
            counter: true
        },
        effects: {
            flip: false
        }
    };
    
    /* secrets theme */
    
    $.onepress.sociallocker.presets['flat'] = {

        buttons: {
            layout: 'horizontal',
            counter: true
        },
        effects: {
            flip: true
        }
    };

})(jQuery);;
/*!
 * Facebook SDK Connector
 * Copyright 2014, OnePress, http://byonepress.com
*/
!function(a){"use strict";a.onepress||(a.onepress={}),a.onepress.sdk||(a.onepress.sdk={}),a.onepress.sdk.facebook=a.onepress.sdk.facebook||{name:"facebook",url1:"//connect.facebook.net/{lang}/all.js",url2:"//connect.facebook.net/{lang}/sdk.js",scriptId:"facebook-jssdk",timeout:1e4,isLoaded:function(){return"object"==typeof window.FB},prepare:function(){0===a("#fb-root").length&&a("<div id='fb-root'></div>").appendTo(a("body"));var b=this.options&&this.options.lang||"en_US";this.url1=this.url1.replace("{lang}",b),this.url2=this.url2.replace("{lang}",b),this.url="v1.0"===this.options.version?this.url1:this.url2},createEvents:function(){var b=this,c=this.isLoaded(),d=function(){window.FB.init({appId:b.options&&b.options.appId||null,status:!0,cookie:!0,xfbml:!0,version:b.options.version}),window.FB.Event.subscribe("edge.create",function(b){a(document).trigger("onp-sl-facebook-like",[b])}),window.FB.init=function(){},a(document).trigger(b.name+"-init")};if(c)return d(),void 0;if(window.fbAsyncInit)var e=window.fbAsyncInit;window.fbAsyncInit=function(){d(),e&&e(),window.fbAsyncInit=function(){}}}}}(jQuery);;
/*!
 * Twitter SDK Connector
 * Copyright 2014, OnePress, http://byonepress.com
*/
!function(a){"use strict";a.onepress||(a.onepress={}),a.onepress.sdk||(a.onepress.sdk={}),a.onepress.sdk.twitter=a.onepress.sdk.twitter||{name:"twitter",url:"//platform.twitter.com/widgets.js",scriptId:"twitter-wjs",timeout:1e4,isLoaded:function(){return"undefined"!=typeof window.__twttrlr},createEvents:function(){var b=this,c=this.isLoaded(),d=function(){window.twttr.events.bind("tweet",function(b){a(document).trigger("onp-sl-twitter-tweet",[b])}),window.twttr.events.bind("follow",function(b){a(document).trigger("onp-sl-twitter-follow",[b])}),a(document).trigger(b.name+"-init")};return c?(d(),void 0):(window.twttr||(window.twttr={}),window.twttr.ready||(window.twttr=a.extend(window.twttr,{_e:[],ready:function(a){this._e.push(a)}})),twttr.ready(function(){d()}),void 0)}}}(jQuery);;
/*!
 * Google SDK Connector
 * Copyright 2014, OnePress, http://byonepress.com
*/
!function(a){"use strict";a.onepress||(a.onepress={}),a.onepress.sdk||(a.onepress.sdk={}),a.onepress.sdk.google=a.onepress.sdk.google||{name:"google",url:"//apis.google.com/js/plusone.js",scriptId:"google-jssdk",timeout:1e4,isLoaded:function(){return"object"==typeof window.gapi},prepare:function(){var b=this.options&&this.options.lang||"en";window.___gcfg=window.___gcfg||{lang:b},window.onepressPlusOneCallback=function(b){"on"===b.state&&a(document).trigger("onp-sl-google-plus",[b.href])},window.onepressGoogleShareCallback=function(b){a(document).trigger("onp-sl-google-share",[b.id])}}}}(jQuery);;
/*!
 * LinkedIn SDK Connector
 * Copyright 2014, OnePress, http://byonepress.com
*/
!function(a){"use strict";a.onepress||(a.onepress={}),a.onepress.sdk||(a.onepress.sdk={}),a.onepress.sdk.linkedin=a.onepress.sdk.linkedin||{name:"linkedin",url:"//platform.linkedin.com/in.js",scriptId:"linkedin-jssdk",timeout:1e4,isLoaded:function(){return"object"==typeof window.IN},prepare:function(){window.onepressLinkedInShareCallback=function(b){a(document).trigger("onp-sl-linkedin-share",[b])}}}}(jQuery);;
/*!
 * Facebook Like Button
 * Copyright 2014, OnePress, http://byonepress.com
*/
!function(a){"use strict";a.onepress.sociallocker.facebook||(a.onepress.sociallocker.facebook={}),a.onepress.sociallocker.facebook.like={create:function(b,c){var d={_defaults:{url:null,appId:0,lang:"en_US",layout:"standart",width:"auto",verbToDisplay:"like",colorScheme:"light",font:"tahoma",ref:null,count:"standart",unlock:null},getUrlToLike:function(){return this.url},_create:function(){var b=this;return this._prepareOptions(),this._setupEvents(),this._createButton(),a.onepress.connector.connect("facebook",this.options,function(){b.wrap.find(".fake-fb-like").addClass("fb-like"),b.wrap.find(".fake-fb-share").addClass("fb-share-button"),window.FB.XFBML.parse(b.wrap[0])}),!0},_prepareOptions:function(){var b=a.extend({},this._defaults);this.options=a.extend(b,this.options),this.url=this.options.url},_setupEvents:function(){var b=this;a(document).bind("onp-sl-facebook-like",function(a,c){b.options.unlock&&b.url===URL.normalize(c)&&b.options.unlock("button")})},_createButton:function(){this.button=a("<div class='fake-fb-like' data-show-faces='false'></div>"),this.wrap=a("<div class='onp-social-button onp-facebook-button onp-facebook-like-button'></div>").appendTo(this.element).append(this.button),"none"===this.options.count&&this.wrap.addClass("onp-facebook-like-count-none"),this.wrap.addClass("onp-facebook-like-"+this.options.lang),this.button.data("facebook-widget",this),this.button.attr("data-show-faces",!1),this.button.attr("data-send",!1),this.options.url&&this.button.attr("data-href",this.options.url),this.options.font&&this.button.attr("data-font",this.options.font),this.options.colorScheme&&this.button.attr("data-colorscheme",this.options.colorScheme),this.options.ref&&this.button.attr("data-ref",this.options.ref),this.options.width&&this.button.attr("data-width",this.options.width),this.options.layout&&this.button.attr("data-layout",this.options.layout),this.options.verbToDisplay&&this.button.attr("data-action",this.options.verbToDisplay),this.button.data("url-to-verify",this.url)}};d.element=b,d.options=c;var e=d._create();return e?d:!1}}}(jQuery);;
/*!
 * Facebook Share Button
 * Copyright 2014, OnePress, http://byonepress.com
*/
!function(a){"use strict";a.onepress.sociallocker.facebook||(a.onepress.sociallocker.facebook={}),a.onepress.sociallocker.facebook.share={create:function(b,c,d){var e={_defaults:{url:null,appId:0,layout:"button",count:"standart",lang:"en_US",width:"auto",name:null,caption:null,description:null,image:null,unlock:null},_create:function(){var b=this;return this._prepareOptions(),this.options.appId?(this._setupEvents(),this._createButton(),a.onepress.connector.connect("facebook",this.options,function(){b.wrap.find(".fake-fb-like").addClass("fb-like"),b.wrap.find(".fake-fb-share").addClass("fb-share-button"),window.FB.XFBML.parse(b.wrap[0])}),!0):(d.setButtonError(this.element,a.onepress.sociallocker.lang.emptyFBAppIdError),!1)},_prepareOptions:function(){var b=a.extend({},this._defaults);this.options=a.extend(b,this.options),this.url=URL.normalize(this.options.url||window.location.href)},_setupEvents:function(){var b=this;a(document).bind("onp-sl-facebook-share",function(a,c){b.options.unlock&&b.url===URL.normalize(c)&&b.options.unlock("button")})},_createButton:function(){var b=this,b=this;this.button=a("<div class='fake-fb-share' data-show-faces='false'></div>"),this.wrap=a("<div class='onp-social-button onp-facebook-button onp-facebook-share-button'></div>").appendTo(this.element).append(this.button),"none"===this.options.count&&this.wrap.addClass("onp-facebook-share-count-none"),this.wrap.addClass("onp-facebook-share-"+this.options.lang),this.button.data("facebook-widget",this),this.options.url&&this.button.attr("data-href",this.options.url),this.options.width&&this.button.attr("data-width",this.options.width),this.options.layout&&(this.button.attr("data-layout",this.options.layout),this.button.attr("data-type",this.options.layout));var c=a("<div class='onp-facebook-share-button-overlay'></div>").appendTo(this.wrap);c.click(function(){return FB.ui({method:"feed",name:b.options.name,link:b.url,picture:b.options.image,caption:b.options.caption,description:b.options.description},function(c){c&&c.post_id&&a(document).trigger("onp-sl-facebook-share",[b.url])}),!1})}};e.element=b,e.options=c;var f=e._create();return f?e:!1}}}(jQuery);;
/*!
 * Twitter Button widget for jQuery
 * Copyright 2013, OnePress, http://byonepress.com
*/
!function(a){"use strict";a.onepress.sociallocker.twitter||(a.onepress.sociallocker.twitter={}),a.onepress.sociallocker.twitter.button={create:function(b,c,d){var e={_defaults:{url:null,type:null,text:null,via:null,showScreenName:!1,related:null,count:"horizontal",showCount:!0,lang:"en",counturl:null,size:"large",unlock:null},_create:function(){var b=this;return this._prepareOptions(),"follow"!==this.options.type||this.options.url&&-1!==this.options.url.indexOf("twitter")?(this._setupEvents(),this._createButton(),a.onepress.connector.connect("twitter",this.options,function(){var a=b.wrap,c=5,d=function(){if(!(a.find("iframe").length>0))if(window.twttr.widgets&&window.twttr.widgets.load)window.twttr.widgets.load(a[0]),b.element.trigger("tw-render");else{if(0>=c)return;c--,setTimeout(function(){d()},1e3)}};d()}),!0):(d.setButtonError(this.element,a.onepress.sociallocker.lang.emptyTwitterFollowUrlError),!1)},_prepareOptions:function(){var b=a.extend({},this._defaults);for(var c in this._defaults)void 0!==this.element.data(c)&&(b[c]=this.element.data(c));this.options=a.extend(b,this.options),!this.options.url&&a("link[rel='canonical']").length>0&&(this.options.url=a("link[rel='canonical']").attr("href")),this.url=URL.normalize(this.options.url||window.location.href)},_setupEvents:function(){var b=this;a(document).bind("onp-sl-twitter-tweet",function(c,d){if(d&&d.target&&"tweet"===b.options.type){var e=URL.normalize(a(d.target).parents(".onp-social-button").attr("data-url-to-compare"));b.url===e&&b.options.unlock&&b.options.unlock&&b.options.unlock("button")}}),a(document).bind("onp-sl-twitter-follow",function(c,d){if(d&&d.target&&"follow"===b.options.type){var e=URL.normalize(a(d.target).parents(".onp-social-button").attr("data-url-to-compare"));b.url===e&&b.options.unlock&&b.options.unlock&&b.options.unlock("button")}})},_createButton:function(){var b="";this.button=a("<a href='https://twitter.com/share'>"+b+"</a>"),this.button.data("twitter-widget",this),this.wrap=a("<div class='onp-social-button onp-twitter-button'></div>").appendTo(this.element),"tweet"===this.options.type&&(this.wrap.addClass("onp-twitter-tweet"),this.button.addClass("twitter-share-button")),"follow"===this.options.type&&(this.wrap.addClass("onp-twitter-follow"),this.button.addClass("twitter-follow-button")),"follow"===this.options.type?this.button.attr("href",this.url):this.button.attr("data-url",this.url),this.button.attr("data-show-count",this.options.showCount),this.options.via&&this.button.attr("data-via",this.options.via),this.options.text&&this.button.attr("data-text",this.options.text),this.options.related&&this.button.attr("data-related",this.options.related),this.options.count&&this.button.attr("data-count",this.options.count),this.options.showCount&&this.button.attr("data-show-count",this.options.showCount),this.options.lang&&this.button.attr("data-lang",this.options.lang),this.options.counturl&&this.button.attr("data-counturl",this.options.counturl),this.options.hashtags&&this.button.attr("data-hashtags",this.options.hashtags),this.options.alignment&&this.button.attr("data-alignment",this.options.alignment),this.options.size&&this.button.attr("data-size",this.options.size),this.options.dnt&&this.button.attr("data-dnt",this.options.dnt),this.options.showScreenName&&this.button.attr("data-show-screen-name",this.options.showScreenName),this.wrap.attr("data-url-to-compare",this.url),this.wrap.append(this.button)}};e.element=b,e.options=c;var f=e._create();return f?e:!1}},a.onepress.sociallocker.twitter.tweet=a.extend({},a.onepress.sociallocker.twitter.button),a.onepress.sociallocker.twitter.tweet.create=function(b,c,d){return c.type="tweet",a.onepress.sociallocker.twitter.button.create(b,c,d)},a.onepress.sociallocker.twitter.follow=a.extend({},a.onepress.sociallocker.twitter.button),a.onepress.sociallocker.twitter.follow.create=function(b,c,d){return c.type="follow",a.onepress.sociallocker.twitter.button.create(b,c,d)}}(jQuery);;
/*!
 * Google Plus One
 * Copyright 2013, OnePress, http://byonepress.com
*/
!function(a){"use strict";a.onepress.sociallocker.google||(a.onepress.sociallocker.google={}),a.onepress.sociallocker.google.button={create:function(b,c){var d={_defaults:{url:null,type:null,lang:"en-US",size:null,annotation:null,width:null,align:"left",expandTo:"",recommendations:!0,unlock:null},_create:function(){var b=this;return this._prepareOptions(),this._setupEvents(),this._createButton(),a.onepress.connector.connect("google",this.options,function(){setTimeout(function(){var a=b.wrap,c=a.find(".fake-g-plusone");if(c.length>0)return b._addCallbackToControl(a),c.addClass("g-plusone"),window.gapi.plusone.go(a[0]),void 0;var d=a.find(".fake-g-share");return d.length>0?(d.attr("data-onendinteraction","onepressGoogleShareCallback"),d.addClass("g-plus").attr("data-action","share"),window.gapi.plus.go(a[0]),void 0):void 0},100)}),!0},_prepareOptions:function(){var b=a.extend({},this._defaults);this.options=a.extend(b,this.options),this.url=URL.normalize(this.options.url||window.location.href)},_setupEvents:function(){var b=this;"plus"===this.options.type&&a(document).bind("onp-sl-google-plus",function(c,d){a(".gc-bubbleDefault").hide(),b.options.unlock&&b.url==URL.normalize(d)&&b.options.unlock("button")}),"share"===this.options.type&&a(document).bind("onp-sl-google-share",function(c,d){a(".gc-bubbleDefault").hide(),b.options.unlock&&b.url==URL.normalize(d)&&b.options.unlock("button")})},_createButton:function(){this.button="plus"==this.options.type?a("<div class='fake-g-plusone'></div>"):a("<div class='fake-g-share'></div>"),this.wrap=a("<div class='onp-social-button onp-google-button'></div>").appendTo(this.element).append(this.button),this.button.data("google-widget",this),this.options.url&&this.button.attr("data-href",this.options.url),this.options.size&&this.button.attr("data-size",this.options.size),this.options.annotation&&this.button.attr("data-annotation",this.options.annotation),this.options.align&&this.button.attr("data-align",this.options.align),this.options.expandTo&&this.button.attr("data-expandTo",this.options.expandTo),this.options.recommendations&&this.button.attr("data-recommendations",this.options.recommendations)},_addCallbackToControl:function(a){var b=a.is(".g-plusone")?a:a.find(".fake-g-plusone"),c=b.attr("data-callback");if(c&&"onepressPlusOneCallback"!==c){var d="__plusone_"+c;window[d]=function(a){window[c](a),window.onepressPlusOneCallback(a)},b.attr("data-callback",d)}else b.attr("data-callback","onepressPlusOneCallback")}};d.element=b,d.options=c;var e=d._create();return e?d:!1}},a.onepress.sociallocker.google.plus=a.extend({},a.onepress.sociallocker.google.button),a.onepress.sociallocker.google.plus.create=function(b,c){return c.type="plus",a.onepress.sociallocker.google.button.create(b,c)},a.onepress.sociallocker.google.share=a.extend({},a.onepress.sociallocker.google.button),a.onepress.sociallocker.google.share.create=function(b,c){return c.type="share",a.onepress.sociallocker.google.button.create(b,c)}}(jQuery);;
/*!
 * LinkedIn Share Button widget for jQuery
 * Copyright 2013, OnePress, http://byonepress.com
*/
!function(a){"use strict";a.onepress.sociallocker.linkedin||(a.onepress.sociallocker.linkedin={}),a.onepress.sociallocker.linkedin.share={getVerificationData:function(){return{container:".IN-widget",timeout:5e3}},create:function(b,c){var d={_defaults:{url:null,counter:"right",unlock:null},_create:function(){var b=this;return this._prepareOptions(),this._setupEvents(),this._createButton(),a.onepress.connector.connect("linkedin",this.options,function(){IN.init(),IN.parse&&IN.parse(b.element[0])}),!0},_prepareOptions:function(){var b=a.extend({},this._defaults);for(var c in this._defaults)void 0!==this.element.data(c)&&(b[c]=this.element.data(c));this.options=a.extend(b,this.options),this.url=URL.normalize(this.options.url||window.location.href)},_setupEvents:function(){var b=this;a(document).bind("onp-sl-linkedin-share",function(a,c){console.log("onp-sl-linkedin-share"),b.url===URL.normalize(c)&&b.options.unlock&&b.options.unlock&&b.options.unlock("button")})},_createButton:function(){this.button=a('<script type="IN/Share" data-onsuccess="onepressLinkedInShareCallback" data-success="onepressLinkedInShareCallback" data-onSuccess="onepressLinkedInShareCallback"></script>'),this.options.counter&&this.button.attr("data-counter",this.options.counter),this.options.url&&this.button.attr("data-url",this.url),this.wrap=a("<div class='onp-social-button onp-linkedin-button'></div>").appendTo(this.element).append(this.button)}};d.element=b,d.options=c;var e=d._create();return e?d:!1}}}(jQuery);;
/*!
 * API Functions for Social Locker.
 */
!function(a){a.onepress.sociallocker||(a.onepress.sociallocker={}),a.onepress.sociallocker.registerButton=a.onepress.sociallocker.registerButton||function(b,c){if(c){var d=b.split("-"),e=2===d.length?d[0]:null,f=2===d.length?d[1]:d[0];e?a.onepress.sociallocker.lang[e+"_"+f]=c:a.onepress.sociallocker.lang[f]=c}}}(jQuery);;
/*!
 * Helper Tools.
 * Copyright 2013, OnePress, http://byonepress.com
 */
!function(a){"use strict";a.onepress||(a.onepress={}),a.onepress.tools||(a.onepress.tools={}),a.onepress.tools.cookie=a.onepress.tools.cookie||function(b,c,d){if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(c))||null===c||void 0===c)){if(d=a.extend({},d),(null===c||void 0===c)&&(d.expires=-1),"number"==typeof d.expires){var e=d.expires,f=d.expires=new Date;f.setDate(f.getDate()+e)}return c=String(c),document.cookie=[encodeURIComponent(b),"=",d.raw?c:encodeURIComponent(c),d.expires?"; expires="+d.expires.toUTCString():"",d.path?"; path="+d.path:"",d.domain?"; domain="+d.domain:"",d.secure?"; secure":""].join("")}d=c||{};for(var g,h=d.raw?function(a){return a}:decodeURIComponent,i=document.cookie.split("; "),j=0;g=i[j]&&i[j].split("=");j++)if(h(g[0])===b)return h(g[1]||"");return null},a.onepress.tools.hash=a.onepress.tools.hash||function(a){var b=0;if(!a||0===a.length)return b;for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);b=(b<<5)-b+d,b&=b}return b=b.toString(16),b=b.replace("-","0")},a.onepress.tools.has3d=a.onepress.tools.has3d||function(){var a,b=document.createElement("p"),c={WebkitTransform:"-webkit-transform",OTransform:"-o-transform",MSTransform:"-ms-transform",MozTransform:"-moz-transform",Transform:"transform"};document.body.insertBefore(b,null);for(var d in c)void 0!==b.style[d]&&(b.style[d]="translate3d(1px,1px,1px)",a=window.getComputedStyle(b).getPropertyValue(c[d]));return document.body.removeChild(b),void 0!==a&&a.length>0&&"none"!==a},a.onepress.tools.canBlur=a.onepress.tools.canBlur||function(){var a=document.createElement("div");a.style.cssText=_browserPrefixes.join("filter:blur(2px); ");var b=!!a.style.length&&(void 0===document.documentMode||document.documentMode>9);if(b)return!0;try{b=void 0!==typeof SVGFEColorMatrixElement&&2==SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE}catch(c){}return b},a.onepress.isTouch=a.onepress.isTouch||function(){return!!("ontouchstart"in window)||!!("onmsgesturechange"in window)},a.onepress.widget=function(b,c){var d={createWidget:function(d,e){var f=a.extend(!0,{},c);f.element=a(d),f.options=a.extend(!0,f.options,e),f._init&&f._init(),f._create&&f._create(),a.data(d,"plugin_"+b,f)},callMethod:function(a,b){return a[b]&&a[b]()}};a.fn[b]=function(){var c=arguments,e=arguments.length,f=this;return this.each(function(){var g=a.data(this,"plugin_"+b);!g&&1>=e?d.createWidget(this,e?c[0]:!1):1==e&&(f=d.callMethod(g,c[0]))}),f}},a.onepress.detectBrowser=a.onepress.detectBrowser||function(){function b(){var a=-1;if("Microsoft Internet Explorer"==navigator.appName){var b=navigator.userAgent,c=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=c.exec(b)&&(a=parseFloat(RegExp.$1))}else if("Netscape"==navigator.appName){var b=navigator.userAgent,c=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})");null!=c.exec(b)&&(a=parseFloat(RegExp.$1))}return a}var c=jQuery.uaMatch||function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},d=c(navigator.userAgent);a.onepress.browser={},d.browser&&(a.onepress.browser[d.browser]=!0,a.onepress.browser.version=d.version);var e=b();e>0&&(a.onepress.browser.msie=!0,a.onepress.browser.version=e),a.onepress.browser.chrome?a.onepress.browser.webkit=!0:a.onepress.browser.webkit&&(a.onepress.browser.safari=!0)},a.onepress.detectBrowser()}(jQuery);;
/*!
 * URL.js
 * Copyright 2011 Eric Ferraiuolo
 * https://github.com/ericf/urljs
 */
var URL=function(){var a=this;return a&&a.hasOwnProperty&&a instanceof URL||(a=new URL),a._init.apply(a,arguments)};!function(){var a,b,c,d="absolute",e="relative",f=":",g="//",h="@",i=".",j="/",k="..",l="../",m="?",n="=",o="&",p="#",q="",r="type",s="scheme",t="userInfo",u="host",v="port",w="path",x="query",y="fragment",z=/^(?:(https?:\/\/|\/\/)|(\/|\?|#)|[^;:@=\.\s])/i,A=/^(?:(https?):\/\/|\/\/)(?:([^:@\s]+:?[^:@\s]+?)@)?((?:[^;:@=\/\?\.\s]+\.)+[A-Za-z0-9\-]{2,})(?::(\d+))?(?=\/|\?|#|$)([^\?#]+)?(?:\?([^#]+))?(?:#(.+))?/i,B=/^([^\?#]+)?(?:\?([^#]+))?(?:#(.+))?/i,C="object",D="string",E=/^\s+|\s+$/g;a=String.prototype.trim?function(a){return a&&a.trim?a.trim():a}:function(a){try{return a.replace(E,q)}catch(b){return a}},b=function(a){return a&&typeof a===C},c=function(a){return typeof a===D},URL.ABSOLUTE=d,URL.RELATIVE=e,URL.normalize=function(a){return new URL(a).toString()},URL.resolve=function(a,b){return new URL(a).resolve(b).toString()},URL.prototype={_init:function(a){return this.constructor=URL,a=c(a)?a:a instanceof URL?a.toString():null,this._original=a,this._url={},this._isValid=this._parse(a),this},toString:function(){var a=this._url,b=[],c=a[r],e=a[s],h=a[w],i=a[x],k=a[y];return c===d&&(b.push(e?e+f+g:g,this.authority()),h&&0!==h.indexOf(j)&&(h=j+h)),b.push(h,i?m+this.queryString():q,k?p+k:q),b.join(q)},original:function(){return this._original},isValid:function(){return this._isValid},isAbsolute:function(){return this._url[r]===d},isRelative:function(){return this._url[r]===e},isHostRelative:function(){var a=this._url[w];return this.isRelative()&&a&&0===a.indexOf(j)},type:function(){return this._url[r]},scheme:function(a){return arguments.length?this._set(s,a):this._url[s]},userInfo:function(a){return arguments.length?this._set(t,a):this._url[t]},host:function(a){return arguments.length?this._set(u,a):this._url[u]},domain:function(){var a=this._url[u];return a?a.split(i).slice(-2).join(i):void 0},port:function(a){return arguments.length?this._set(v,a):this._url[v]},authority:function(){var a=this._url,b=a[t],c=a[u],d=a[v];return[b?b+h:q,c,d?f+d:q].join(q)},path:function(a){return arguments.length?this._set(w,a):this._url[w]},query:function(a){return arguments.length?this._set(x,a):this._url[x]},queryString:function(a){if(arguments.length)return this._set(x,this._parseQuery(a));a=q;var b,c,d=this._url[x];if(d)for(b=0,c=d.length;c>b;b++)a+=d[b].join(n),c-1>b&&(a+=o);return a},fragment:function(a){return arguments.length?this._set(y,a):this._url[y]},resolve:function(a){a=a instanceof URL?a:new URL(a);var b,c;return this.isValid()&&a.isValid()?a.isAbsolute()?this.isAbsolute()?a.scheme()?a:new URL(a).scheme(this.scheme()):a:(b=new URL(this.isAbsolute()?this:null),a.path()?(c=a.isHostRelative()||!this.path()?a.path():this.path().substring(0,this.path().lastIndexOf(j)+1)+a.path(),b.path(this._normalizePath(c)).query(a.query()).fragment(a.fragment())):a.query()?b.query(a.query()).fragment(a.fragment()):a.fragment()&&b.fragment(a.fragment()),b):this},reduce:function(a){a=a instanceof URL?a:new URL(a);var b=this.resolve(a);return this.isAbsolute()&&b.isAbsolute()&&b.scheme()===this.scheme()&&b.authority()===this.authority()&&b.scheme(null).userInfo(null).host(null).port(null),b},_parse:function(b,f){if(b=a(b),!(c(b)&&b.length>0))return!1;var g,h;switch(f||(f=b.match(z),f=f?f[1]?d:f[2]?e:null:null),f){case d:g=b.match(A),g&&(h={},h[r]=d,h[s]=g[1]?g[1].toLowerCase():void 0,h[t]=g[2],h[u]=g[3].toLowerCase(),h[v]=g[4]?parseInt(g[4],10):void 0,h[w]=g[5]||j,h[x]=this._parseQuery(g[6]),h[y]=g[7]);break;case e:g=b.match(B),g&&(h={},h[r]=e,h[w]=g[1],h[x]=this._parseQuery(g[2]),h[y]=g[3]);break;default:return this._parse(b,d)||this._parse(b,e)}return h?(this._url=h,!0):!1},_parseQuery:function(b){if(c(b)){b=a(b);var d,e,f,g=[],h=b.split(o);for(e=0,f=h.length;f>e;e++)h[e]&&(d=h[e].split(n),g.push(d[1]?d:[d[0]]));return g}},_set:function(a,b){return this._url[a]=b,!b||a!==s&&a!==t&&a!==u&&a!==v||(this._url[r]=d),b||a!==u||(this._url[r]=e),this._isValid=this._parse(this.toString()),this},_normalizePath:function(a){var b,c,d,e,f,g;if(a.indexOf(l)>-1){for(b=a.split(j),d=[],f=0,g=b.length;g>f;f++)c=b[f],c===k?d.pop():c&&d.push(c);e=d.join(j),a[0]===j&&(e=j+e),a[a.length-1]===j&&e.length>1&&(e+=j)}else e=a;return e}}}();;
/*!
 * SDK Connector for social networks.
 * Copyright 2014, OnePress, http://byonepress.com
*/
!function(a){"use strict";a.onepress||(a.onepress={}),a.onepress.connector=a.onepress.connector||{_ready:{},_connected:{},getSDK:function(b){return a.onepress.sdk[b]?a.onepress.sdk[b]:null},isConnected:function(b){if(a("#"+b.scriptId).length>0)return!0;var c=!1;return a("script").each(function(){var d=a(this).attr("src");return d?(c=-1!==d.indexOf(b.url),c?(a(this).attr("id",b.scriptId),!1):void 0):!0}),c},getLoadingScript:function(b){var c=a("#"+b.scriptId),d=a("script[src='*"+b.url+"']");return c.length>0?c:d},isLoaded:function(a){return this.isConnected(a)&&a.isLoaded&&a.isLoaded()},connect:function(b,c,d){var e=this,f=this.getSDK(b);if(!f)return console&&console.log("Invalide SDK name: "+b),void 0;if(f.options=c,d&&(this._ready[b]?d(f):a(document).bind(b+"-init",function(){d(f)})),!this._connected[b]){f.createEvents||(f.createEvents=function(){var b=f.isLoaded(),c=function(){a(document).trigger(f.name+"-init")};return b?(c(),void 0):(a(document).bind(f.name+"-script-loaded",function(){c()}),void 0)}),f.prepare&&f.prepare();var g=f.isLoaded(),h=this.isConnected(f);if(a(document).bind(b+"-init",function(){e._ready[b]=!0}),f.createEvents(),!h){var i=function(){var a=document.createElement("script");a.type="text/javascript",a.id=f.scriptId,a.src=f.url;var b=f.getScriptBody?f.getScriptBody():null;b&&(a.innerHtml=b);var c=document.getElementsByTagName("body")[0];c.appendChild(a)};i()}if(!g){var j=this.getLoadingScript(f)[0];j&&(j.onreadystatechange=j.onload=function(){var b=j.readyState;(!b||/loaded|complete/.test(b))&&(a(document).trigger(f.name+"-script-loaded"),a(document).unbind(f.name+"-script-loaded"))})}this._connected[b]=!0}}}}(jQuery);;
/*!
 * OnePress Local State Provider
 * Copyright 2013, OnePress, http://byonepress.com
*/
!function(a){"use strict";a.onepress||(a.onepress={}),a.onepress.providers||(a.onepress.providers={}),a.onepress.providers.clientStoreStateProvider=function(b,c,d,e){this.networkName=b,this.buttonName=c,this.name=b+"-"+c,this.demo=e.demo,this.useCookies=e.locker.useCookies,this.expires=e.locker.expires,this.scope=e.locker.scope&&"scope_"+e.locker.scope,this.url=d,this.identity="page_"+a.onepress.tools.hash(this.url)+"_hash_"+b+"-"+c,this.isUnlocked=function(){return this.demo?!1:this._getValue(this.identity)||this._getValue(this.scope)?!0:!1},this.isLocked=function(){return!this.isUnlocked()},this.getState=function(a){return this.demo?a(!1):(a(this.isUnlocked()),void 0)},this.setState=function(a){if(this.demo)return!0;try{return"unlocked"===a?this._setValue(this.identity)&&this._setValue(this.scope):this._removeValue(this.identity)&&this._setValue(this.scope)}catch(b){console&&console.log(b)}},this._setValue=function(b){if(!b)return!1;var c=!0,d=1e4;if(this.expires){var e=new Date,f=e.getTime(),g=f+1e3*this.expires;d=Math.ceil(this.expires/86400),c=JSON.stringify({expires:g})}var h=!0;if(localStorage&&!this.useCookies){h=!1;try{localStorage.setItem(b,c)}catch(i){console&&console.log(i),h=!0}}return h&&a.onepress.tools.cookie(b,c,{expires:d,path:"/"}),!0},this._getValue=function(b){if(!b)return!1;var c=localStorage&&!this.useCookies&&localStorage.getItem(b);if(c||(c=a.onepress.tools.cookie(b)),c)try{var d=JSON.parse(c);if(d&&d.expires){var e=new Date;return d.expires>e}return!0}catch(f){return!0}},this._removeValue=function(b){return b?(localStorage&&localStorage.removeItem(b),a.onepress.tools.cookie(b,null),void 0):!1}}}(jQuery);;
/*!
 *
 * Version: 0.0.5
 * Author: Gianluca Guarini
 * Website: http://www.gianlucaguarini.com/
*/
!function(a,b,c){"use strict";var d={filterId:0},e=" -webkit- -moz- -o- -ms- ".split(" "),f=function(){var a=b.createElement("div");return a.style.cssText=e.join("filter:blur(2px); "),!!a.style.length&&(void 0===b.documentMode||b.documentMode>9)},g=function(){var a=!1;try{a=void 0!==typeof SVGFEColorMatrixElement&&2==SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE}catch(b){}return a},h=function(e,h){var i,j,k,l={intensity:5,forceSVGUrl:!1,animationOptions:{duration:1e3,easing:"linear"}},m=c.extend(l,h),n={},o=function(a){if(n[a]||""===n[a])return n[a]+a;var c=b.createElement("div"),d=["","Moz","Webkit","O","ms","Khtml"];for(var e in d)if("undefined"!=typeof c.style[d[e]+a])return n[a]=d[e],d[e]+a;return a.toLowerCase()},p={cssfilters:f(),svgfilters:g()},q=!1,r=o("Filter"),s=function(a){return b.createElementNS("http://www.w3.org/2000/svg",a)},t=function(){var a=s("svg"),b=s("filter");i=s("feGaussianBlur"),a.setAttribute("style","position:absolute"),a.setAttribute("width","0"),a.setAttribute("height","0"),b.setAttribute("id","blur-effect-id-"+d.filterId),b.appendChild(i),a.appendChild(b),c("body").append(a)};return this.$elm=e instanceof c?e:c(e),this.init=function(){return p.svgfilters&&t(),j=d.filterId,d.filterId++,this},this.blur=function(){var b,c=a.location,d=m.forceSVGUrl?c.protocol+"//"+c.host+c.pathname:"";return p.cssfilters?b="blur("+m.intensity+"px)":p.svgfilters?(i.setAttribute("stdDeviation",m.intensity),b="url("+d+"#blur-effect-id-"+j+")"):b="progid:DXImageTransform.Microsoft.Blur(pixelradius="+m.intensity+")",this.$elm[0].style[r]=b,q=!0,this},this.animate=function(a,b){if("number"!=typeof a)throw typeof a+" is not a valid number to animate the blur";if(0>a)throw"I can animate only positive numbers";var d=new c.Deferred;return k&&k.stop(!0,!0),k=new c.Animation(m,{intensity:a},c.extend(m.animationOptions,b)).progress(c.proxy(this.blur,this)).done(d.resolve),d.promise()},this.unblur=function(){return this.$elm.css(r,"none"),q=!1,this},this.toggleblur=function(){return q?this.unblur():this.blur(),this},this.destroy=function(){p.svgfilters&&c("filter#blur-effect-id-"+j).parent().remove(),this.unblur();for(var a in this)delete this[a];return this},this.init()};c.fn.Vague=function(a){return new h(this,a)},c.onepress||(c.onepress={}),c.onepress.tools||(c.onepress.tools={}),c.onepress.tools.supportBlurring=function(a,b){return"blurring"===b&&(c.onepress.browser.msie&&c.onepress.browser.version>9&&c.onepress.browser.msie<12||!f()&&!g())?a:b}}(window,document,jQuery);;
/*!
 * Social Locker plugin for jQuery
 * Copyright 2013, OnePress, http://byonepress.com
*/
!function(a){"use strict";a.fn.sociallocker||(a.onepress.widget("sociallocker",{options:{},_isLocked:!1,_defaults:{_iPhoneBug:!1,url:null,text:{header:a.onepress.sociallocker.lang.defaultHeader,message:a.onepress.sociallocker.lang.defaultMessage},theme:"starter",overlap:{ie10Mode:"transparence",mode:"full",position:"middle",intensity:5},cssClass:null,demo:!1,actualUrls:!1,googleAnalytics:!1,buttons:{layout:"horizontal",order:["twitter-tweet","facebook-like","google-plus"],counter:!0},locker:{off:!1,stepByStep:!1,close:!1,timer:0,mobile:!0,expires:!1,useCookies:!1,scope:!1,loadingTimeout:1e4,tumbler:!0,tumblerInterval:500},content:null,effects:{flip:!1,highlight:!0},triggers:{},facebook:{url:null,version:"v1.0",appId:null,lang:"en_US",colorScheme:"light",font:"tahoma",ref:null,like:{title:a.onepress.sociallocker.lang.facebook_like,theConfirmIssue:!1},share:{title:a.onepress.sociallocker.lang.facebook_share}},twitter:{url:null,via:null,text:null,related:null,lang:"en",counturl:null,tweet:{title:a.onepress.sociallocker.lang.twitter_tweet},follow:{title:a.onepress.sociallocker.lang.twitter_follow}},google:{url:null,lang:"en-US",annotation:null,recommendations:!0,plus:{title:a.onepress.sociallocker.lang.google_plus},share:{title:a.onepress.sociallocker.lang.google_share}},linkedin:{url:null,counter:"right",share:{title:a.onepress.sociallocker.lang.linkedin_share}}},getState:function(){return this._isLocked?"locked":"unlocked"},_create:function(){var b=this;if(this.events={lock:function(a,c){b.element.trigger("lock.sociallocker.onp",[a,c])},unlock:function(a,c,d){if(b.element.trigger("unlock.sociallocker.onp",[a,c]),b.options.googleAnalytics&&(window._gaq||window.ga)&&"button"===a){var e=null,f=null;"facebook-like"===c?(f="Facebook Like",e="Got a Like on Facebook"):"facebook-share"===c?(f="Facebook Share",e="Shared on Facebook"):"twitter-tweet"===c?(f="Twitter Tweet",e="Shared on Twitter"):"twitter-follow"===c?(f="Twitter Follow",e="Got a Follower on Twitter"):"google-plus"===c?(f="Google Plus",e="Got +1 on Google"):"google-share"===c?(f="Google Share",e="Shared on Google"):"linkedin-share"===c&&(f="Linkedin Share",e="Shared on Linkedin"),window.ga?window.ga("send","event","Social Locker (Leakages)","Unlocked by Social Button",f):window._gaq.push(["_trackEvent","Social Locker (Leakages)","Unlocked by Social Button",f]),window.ga?window.ga("send","event","Social Locker (Activity)",e,d):window._gaq.push(["_trackEvent","Social Locker (Activity)",e,d])}},unlockByClose:function(){b.element.trigger("unlockByClose.sociallocker.onp",[]),b.options.googleAnalytics&&(window._gaq||window.ga)&&(window.ga?window.ga("send","event","Social Locker (Leakages)","Unlocked by Close Icon",null):window._gaq.push(["_trackEvent","Social Locker (Leakages)","Unlocked by Close Icon",null]))},unlockByTimer:function(){b.element.trigger("unlockByTimer.sociallocker.onp",[]),b.options.googleAnalytics&&(window._gaq||window.ga)&&(window.ga?window.ga("send","event","Social Locker (Leakages)","Unlocked by Timer",null):window._gaq.push(["_trackEvent","Social Locker (Leakages)","Unlocked by Timer",null]))}},this._processOptions(),a.onepress.browser.msie&&7===parseInt(a.onepress.browser.version,10))return this._unlock("ie7"),void 0;if(!this.options.locker.mobile&&this._isMobile())return this._unlock("mobile"),void 0;if(/iPhone/i.test(navigator.userAgent)&&this.options._iPhoneBug){var c=a.inArray("twitter-tweet",this.options.buttons.order);c>=0&&this.options.buttons.order.splice(c,1)}if(a.onepress.browser.opera||a.onepress.browser.msie||this._isTabletOrMobile()){var d=a.inArray("google-share",this.options.buttons.order);d>=0&&this.options.buttons.order.splice(d,1)}return 0===this.options.buttons.order.length?(this._unlock("nobuttons"),void 0):(this._controller=this._createProviderController(),this._controller.getState(function(a){a.state?b._unlock("provider"):b._lock()}),b.options.locker.scope&&a(document).bind("unlockByScope.sl.onp",function(a,c,d){c!==b.element&&b.options.locker.scope===d&&b._unlock("scope")}),void 0)},_createProviderController:function(){var b=this;this._providers={};var c=0;for(var d in this.options.buttons.order){var e=this.options.buttons.order[d];if("string"==typeof e&&"#"!==e){var f=e.split("-"),g=2===f.length?f[0]:null,h=2===f.length?f[1]:f[0];if(!this._isValidButton(g,h))return this._setError("The button '"+e+"' not found."),void 0;var i={};g?(this.options[g]&&(i=a.extend({},this.options[g])),this.options[g][h]&&(i=a.extend(i,this.options[g][h]))):this.options[h]&&(i=a.extend(i,this.options[h]));var j=g?a.onepress.sociallocker[g]&&a.onepress.sociallocker[g][h]:a.onepress.sociallocker[h],k=j&&j.getStateId?j.getStateId(i,this.options):URL.normalize(i.url||this.options.url||window.location.href);if(this._providers[e])return;this._providers[e]=new a.onepress.providers.clientStoreStateProvider(g,h,k,b.options),c++}}return{updateState:function(){this.getState(function(){})},getState:function(d){var e=c,f=b.options.locker.stepByStep,g=0,h=0;for(var i in b._providers){var j=b._providers[i];j.getState(function(c){if(e--,b.options.locker.stepByStep?(c||(f=!1),c&&g++,h++):c&&(f=!0),0===e){var i={state:f,completedSteps:g,totalSteps:h};b.options.triggers.state&&b.options.triggers.state(i,b.locker,b),a(document).trigger("onp-sl-trigger-state",[i,b.locker,b]),d(i,j)}})}}}},_processOptions:function(){var b=this.options.theme||this._defaults.theme,c=a.extend(!0,{},this._defaults);a.onepress.sociallocker.presets[b]&&(c=a.extend(!0,{},c,a.onepress.sociallocker.presets[b]),a.onepress.sociallocker.presets[b].buttons&&a.onepress.sociallocker.presets[b].buttons.order&&(c.buttons.order=a.onepress.sociallocker.presets[b].buttons.order)),c=a.extend(!0,c,this.options),this.options.buttons&&this.options.buttons.order&&(c.buttons.order=this.options.buttons.order),c.effects.flip=c.effects.flip||"onp-sociallocker-secrets"==c.style,c.buttons.layout||(c.buttons.layout="horizontal"),"vertical"===c.buttons.layout&&(c.facebook.like.layout="box_count",c.facebook.share.layout="box_count",c.twitter.count="vertical",c.twitter.size="medium",c.google.plus.size="tall",c.google.share.annotation="vertical-bubble",c.linkedin.share.counter="top",c.buttons.counter=!0),"horizontal"===c.buttons.layout&&(c.facebook.layout="button_count",c.twitter.count="horizontal",c.twitter.size="medium",c.google.size="medium",c.google.annotation="bubble",c.linkedin.share.counter="right",c.buttons.counter||(c.twitter.count="none",c.twitter.showCount=!1,c.google.annotation="none",c.facebook.count="none",c.linkedin.share.counter="none")),"object"!=typeof c.text&&(c.text={message:c.text}),c.text.header&&(c.text.header="function"==typeof c.text.header&&c.text.header(this)||"string"==typeof c.text.header&&a("<div>"+c.text.header+"</div>")||"object"==typeof c.text.header&&c.text.header.clone()),c.text.message&&(c.text.message="function"==typeof c.text.message&&c.text.message(this)||"string"==typeof c.text.message&&a("<div>"+c.text.message+"</div>")||"object"==typeof c.text.message&&c.text.message.clone()),c.locker.timer=parseInt(c.locker.timer),0==c.locker.timer&&(c.locker.timer=null),this.options=c,this.style="onp-sociallocker-"+b,this.options.overlap.mode=a.onepress.tools.supportBlurring(this.options.overlap.ie10Mode,this.options.overlap.mode),console.log(this.options.overlap.mode),this.overlap="full"===this.options.overlap.mode?!1:this.options.overlap.mode},_isMobile:function(){return/webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)?!0:/Android/i.test(navigator.userAgent)&&/Mobile/i.test(navigator.userAgent)?!0:!1},_isTabletOrMobile:function(){return/webOS|iPhone|iPad|Android|iPod|BlackBerry/i.test(navigator.userAgent)?!0:!1},_isValidButton:function(b,c){return b?a.onepress.sociallocker[b]&&a.onepress.sociallocker[b][c]?!0:!1:a.onepress.sociallocker[c]?!0:!1},_setError:function(a){this._error=!0,this._errorText=a,this.locker&&this.locker.hide(),this.element.html("<strong>[Error]: "+a+"</strong>"),this.element.show().addClass("onp-sociallocker-error")},_createMarkup:function(){var b=this,c=this.element.parent().is("a")?this.element.parent():this.element;c.addClass("onp-sociallocker-content");var d=a.onepress.browser.mozilla&&"mozilla"||a.onepress.browser.opera&&"opera"||a.onepress.browser.webkit&&"webkit"||"msie";this.locker=a("<div class='onp-sociallocker onp-sociallocker-"+d+"'></div>"),this.outerWrap=a("<div class='onp-sociallocker-outer-wrap'></div>").appendTo(this.locker),this.innerWrap=a("<div class='onp-sociallocker-inner-wrap'></div>").appendTo(this.outerWrap),"fixed"===this.options.buttons.size&&this.locker.addClass("onp-sociallocker-buttons-fixed"),this.locker.addClass(this.style),this.locker.addClass("onp-sociallocker-"+this.options.buttons.layout),this.options.buttons.counter?this.locker.addClass("onp-sociallocker-has-counters"):this.locker.addClass("onp-sociallocker-no-counters"),a.onepress.isTouch()?this.locker.addClass("onp-sociallocker-touch"):this.locker.addClass("onp-sociallocker-no-touch"),this.options.cssClass&&this.locker.addClass(this.options.cssClass);var e=a("<div class='onp-sociallocker-text'></div>");if(this.options.text.header&&e.append(this.options.text.header.addClass("onp-sociallocker-strong").clone()),this.options.text.message&&e.append(this.options.text.message.addClass("onp-sociallocker-message").clone()),this.innerWrap.append(e.addClass()),e.prepend(a("<div class='onp-sociallocker-before-text'></div>")),e.append(a("<div class='onp-sociallocker-after-text'></div>")),this._createButtonMarkup(),this.options.bottomText&&this.innerWrap.append(this.options.bottomText.addClass("onp-sociallocker-bottom-text")),this.options.locker.close&&this._createClosingCross(),this.options.locker.timer&&this._createTimer(),this._controller.updateState(),this.overlap){c.addClass("onp-sociallocker-overlap-mode");var f=this.element.css("display"),g=c;("blurring"===this.overlap||c.is("img")||c.is("iframe")||c.is("object")||"block"!==f&&"inline-block"!==f)&&(g=a('<div class="onp-sociallocker-content-wrap"></div>'),g.insertAfter(c),g.append(c)),c.show(),this.element.show(),"blurring"===this.overlap&&(this.blurArea=a("<div class='onp-sociallocker-blur-area'></div>"),this.blurArea.insertAfter(c),this.blurArea.append(c),c=this.blurArea);var h=g.css("position");"static"===h&&g.css("position","relative");var i=c.is("iframe")&&c||c.find("iframe");1===i.length&&"absolute"===i.css("position")&&(g.css({position:"absolute",width:"100%",height:"100%",top:i.css("top"),left:i.css("left"),right:i.css("right"),bottom:i.css("bottom"),margin:i.css("margin")}),i.css({top:0,left:0,right:0,bottom:0,margin:"auto"})),this.overlapLockerBox=a("<div class='onp-sociallocker-overlap-locker-box'></div>").hide(),this.overlapLockerBox.addClass("onp-sociallocker-position-"+this.options.overlap.position),this.overlapLockerBox.append(this.locker),this.overlapBox=a("<div class='onp-sociallocker-overlap-box'></div>"),this.overlapBox.append(this.overlapLockerBox),this.overlapBox.addClass("onp-sociallocker-"+this.overlap+"-mode");var j=a("<div class='onp-sociallocker-overlap-background'></div>");if(this.overlapBox.append(j),g.append(this.overlapBox),"blurring"===this.overlap){var k=this.options.overlap&&this.options.overlap.intensity||5;this.blurArea=this.blurArea.Vague({intensity:k,forceSVGUrl:!1}),this.blurArea.blur()}a(window).resize(function(){b._updateLockerPosition()}),"scroll"===this.options.overlap.position&&a(window).scroll(function(){b._updateLockerPositionOnScrolling()})}else this.locker.hide(),this.locker.insertAfter(c);this._markupIsCreated=!0,a.inArray("facebook-like",this.options.buttons.order)>=0&&this._startTrackIFrameSizes()},_updateLockerPosition:function(){if(this.overlap){if("top"===this.options.overlap.position||"scroll"===this.options.overlap.position){var a=this.overlapBox.outerWidth(),b=this.locker.outerWidth(),c=this.overlapBox.outerHeight(),d=this.locker.outerHeight(),e=this.options.overlap.offset;if(!e){var e=Math.floor((a-b)/2);10>=e&&(e=10)}if(2*e+d>c)var e=Math.floor((c-d)/2);this.overlapLockerBox.css("marginTop",e+"px"),"scroll"===this.options.overlap.position&&(this._baseOffset=e,this._updateLockerPositionOnScrolling())}return"middle"===this.options.overlap.position?(this.overlapLockerBox.css("marginTop","-"+Math.floor(this.overlapLockerBox.innerHeight()/2)+"px"),void 0):void 0}},_updateLockerPositionOnScrolling:function(){var b=this.overlapBox.offset(),c=b.top,d=b.left,e=b.top+this.overlapBox.outerHeight(),f=this.overlapBox.outerWidth(),g=this.overlapBox.outerHeight(),h=this.locker.outerHeight();if(!(2*this._baseBoxOffset+h+10>=g)){var i=a(document).scrollTop(),j=20;return i+h+2*this._baseOffset+j>e?(this.overlapLockerBox.css("position","absolute").css("top","auto").css("left","0px").css("width","auto").css("bottom",this._baseOffset+"px").css("margin-top","0px"),void 0):i+j>c?(this.overlapLockerBox.css("position","fixed").css("top",this._baseOffset+j+"px").css("left",d+"px").css("width",f+"px").css("bottom","auto").css("margin-top","0px"),void 0):(this.overlapLockerBox.css("position","absolute").css("top","0px").css("left","0px").css("bottom","auto").css("width","auto").css("margin-top",this._baseOffset+"px"),void 0)}},_createButtonMarkup:function(){var b=this;this.buttonsWrap=a("<div class='onp-sociallocker-buttons'></div>").appendTo(this.innerWrap);var c=50;a.each(this.options.buttons.order,function(d,e){if("string"!=typeof e)return!0;if("#"===e)return b.buttonsWrap.append("<div class='onp-button-separator'></div>"),!0;if(b.options.buttons.unsupported&&jQuery.inArray(e,b.options.buttons.unsupported)>=0){var f='The button "'+e+'" is not supported by this theme.',g=a("<div class='onp-sociallocker-button onp-sociallocker-button-unsupported'></div>").css("z-index",c),h=a("<div class='onp-sociallocker-button-inner-wrap'>"+f+"</div>").appendTo(g);return b.buttonsWrap.append(g),!0}var i=e.split("-"),j=2===i.length?i[0]:null,k=2===i.length?i[1]:i[0],l={};j?(b.options[j]&&(l=a.extend({},b.options[j])),b.options[j][k]&&(l=a.extend(l,b.options[j][k]))):b.options[k]&&(l=a.extend(l,b.options[k])),b.options.actualUrls&&(l.url=window.location.href),l.url=URL.normalize(l.url||b.options.url||window.location.href),l._provider=b._providers[e],l.unlock=function(a){return b.options.locker.stepByStep?(b._completeStep(l,g),void 0):b._unlock(a,l._provider)},l.demo=b.options.demo;var g=a("<div class='onp-sociallocker-button onp-sociallocker-button-"+e+" onp-sociallocker-state-loading'></div>").css("z-index",c);g.addClass("onp-sociallocker-button-"+j),g.data("name",e),b.buttonsWrap.append(g);var h=a("<div class='onp-sociallocker-button-inner-wrap'></div>").appendTo(g),m=j?a.onepress.sociallocker[j][k]:a.onepress.sociallocker[k],n=m.create(h,l,b);if(b.options.locker.stepByStep&&l._provider.getState(function(a){b._setButtonState(a,g)}),n){var o=m.getVerificationData?m.getVerificationData(l):{container:"iframe",timeout:5e3};if(j){var p=(a.onepress.sdk[j],!1);setTimeout(function(){p||b.setButtonError(h,a.onepress.sociallocker.lang.unableToLoadSDK.replace("{0}",j))},b.options.locker.loadingTimeout),a.onepress.connector.connect(j,l,function(){p=!0;var c=o.timeout,d=function(){return 0===g.find(o.container).length&&c>=0?(setTimeout(function(){d()},500),c-=500,void 0):(g.removeClass("onp-sociallocker-state-loading"),0>=c?(b.setButtonError(h,a.onepress.sociallocker.lang.unableToCreateButton.replace("{0}",e)),void 0):(h.trigger("onp-sl-button-created"),void 0))};d()})}else g.removeClass("onp-sociallocker-state-loading"),h.trigger("onp-sl-button-created")}var q=b.options.effects.flip,r=a.onepress.tools.has3d();if(q&&r&&g.addClass("onp-sociallocker-flip")||g.addClass("onp-sociallocker-no-flip"),!q)return!0;var f=l.title||(j?a.onepress.sociallocker.lang[j+"_"+k]:a.onepress.sociallocker.lang[k]),s=a("<a></a>").addClass("onp-sociallocker-button-overlay").append(a("<div class='onp-sociallocker-overlay-back'></div>")).append(a("<div class='onp-sociallocker-overlay-front'></div>").append(a("<div class='onp-sociallocker-overlay-icon'></div>")).append(a("<div class='onp-sociallocker-overlay-line'></div>")).append(a("<div class='onp-sociallocker-overlay-text'>"+f+"</div>"))).append(a("<div class='onp-sociallocker-overlay-header'></div>"));s.prependTo(h),r||b._isCompletedStep(g)||g.hover(function(){var b=a(this).find(".onp-sociallocker-button-overlay");b.stop().animate({opacity:0},200,function(){b.hide()})},function(){var b=a(this).find(".onp-sociallocker-button-overlay").show();b.stop().animate({opacity:1},200)}),a.onepress.isTouch()&&(r?s.click(function(){var b=a(this).parents(".onp-sociallocker-button");return b.hasClass("onp-sociallocker-flip-hover")?b.removeClass("onp-sociallocker-flip-hover"):(a(".onp-sociallocker-flip-hover").removeClass("onp-sociallocker-flip-hover"),b.addClass("onp-sociallocker-flip-hover")),!1}):b._isCompletedStep(g)||s.click(function(){var b=a(this);return b.stop().animate({opacity:0},200,function(){b.hide()}),!1})),s&&(s.css("z-index",c),s.find(".onp-sociallocker-overlay-front").css("z-index",1),s.find(".onp-sociallocker-overlay-back").css("z-index",-1),s.find(".onp-sociallocker-overlay-header").css("z-index",1)),c-=5})},setButtonError:function(a,b){a.parent().hasClass("onp-sociallocker-state-error")||(this._createErrorMarkup(b).appendTo(a),a.parent().removeClass("onp-sociallocker-state-loading").addClass("onp-sociallocker-state-error"))},_createErrorMarkup:function(b){var c=this,d=a("<div class='onp-sociallocker-error-body'><a href='#' class='onp-sociallocker-error-title'>"+a.onepress.sociallocker.lang.error+"</a><div class='onp-sociallocker-error-text'>"+b+"</div></div>"),e=d.find(".onp-sociallocker-error-text"),f=d.find(".onp-sociallocker-error-title");return f.click(function(){return c.locker.find(".onp-sociallocker-shown-error").remove(),d.hasClass("onp-sociallocker-active")?d.removeClass("onp-sociallocker-active"):(c.locker.find(".onp-sociallocker-active").removeClass("onp-sociallocker-active"),d.addClass("onp-sociallocker-active"),c.buttonsWrap.after(e.clone().addClass("onp-sociallocker-shown-error"))),!1}),d},_createClosingCross:function(){var b=this;a("<div class='onp-sociallocker-cross' title='"+a.onepress.sociallocker.lang.close+"' />").prependTo(this.locker).click(function(){b.close&&b.close(b)||b._unlock("cross",!0)})},_createTimer:function(){this.timer=a("<span class='onp-sociallocker-timer'></span>");var b=a.onepress.sociallocker.lang.orWait,c=a.onepress.sociallocker.lang.seconds;this.timerLabel=a("<span class='onp-sociallocker-timer-label'>"+b+" </span>").appendTo(this.timer),this.timerCounter=a("<span class='onp-sociallocker-timer-counter'>"+this.options.locker.timer+c+"</span>").appendTo(this.timer),this.timer.appendTo(this.locker),this.counter=this.options.locker.timer,this._kickTimer()},_kickTimer:function(){var b=this;setTimeout(function(){if(b._isLocked)if(b.counter--,b.counter<=0)b._unlock("timer");else{if(b.timerCounter.text(b.counter+a.onepress.sociallocker.lang.seconds),a.onepress.browser.opera){var c=b.timerCounter.clone();c.insertAfter(b.timerCounter),b.timerCounter.remove(),b.timerCounter=c}b._kickTimer()}},1e3)},_startTrackIFrameSizes:function(){if(!this.options.facebook.like.theConfirmIssue){var b=this;this._trackIFrameTimer=null,this.locker.hover(function(){var c=b.locker.find(".onp-facebook-like-button"),d=c.find("iframe");d.length&&(b._trackIFrameTimer=setInterval(function(){var e=parseInt(d[0].style.height);if(e||(e=d.height()),e>200){b._stopTrackIFrameSizes();var f=c.find(".fake-fb-like").data("url-to-verify");a(document).trigger("onp-sl-facebook-like",[f])}},500))},function(){b._stopTrackIFrameSizes()})}},_stopTrackIFrameSizes:function(){this._trackIFrameTimer&&clearInterval(this._trackIFrameTimer)},_isCompletedStep:function(a){return a.hasClass("onp-sl-step-completed")},_setButtonState:function(a,b){a?b.addClass("onp-sl-step-completed"):b.removeClass("onp-sl-step-completed")},_completeStep:function(a,b){var c=this,d=a._provider;d.setState("unlocked"),this._setButtonState(!0,b),this.events.step&&this.events.step("button",d&&d.name,d&&d.url),this._controller.getState(function(a){return a.state?c._unlock("step-by-step"):void 0})},_lock:function(a,b){var c=this;this._isLocked||this._stoppedByWatchdog||(this._markupIsCreated||this._createMarkup(),"button"===a&&b.setState("locked"),this.overlap?(this.overlapLockerBox.fadeIn(1e3,function(){c._updateLockerPosition()}),c._updateLockerPosition()):(this.element.hide(),this.locker.fadeIn(1e3)),this._isLocked=!0,this.events.lock&&this.events.lock(a,b&&b.name),this._tumblerOn())},_unlock:function(b,c){var d=this;if(!this.options.locker.off){if(!this._isLocked)return this._showContent("button"!==b),!1;"button"===b&&(c.setState("unlocked"),d.options.locker.scope&&a(document).trigger("unlockByScope.sl.onp",[d.element,d.options.locker.scope])),this._tumblerOff(),this._showContent(!0),this._isLocked=!1,"scope"!==b&&("timer"===b&&this.events.unlockByTimer&&this.events.unlockByTimer(),"cross"===b&&this.events.unlockByClose&&this.events.unlockByClose(),this.events.unlock&&this.events.unlock(b,c&&c.name,c&&c.url))}},lock:function(){this._lock("user")},unlock:function(){this._unlock("user")},_tumblerOn:function(){if(this.options.locker.tumbler&&!this.options.locker.off&&!this._tumblerTicker){var a=this;this._tumblerTicker=setInterval(function(){a._tumblerTicker&&(a.locker.is(":visible")||a.locker.css("display","block"),a.overlap?a.overlapBox&&a.overlapBox.is(":visible")||a.overlapBox.css("display","block"):a.element.is(":visible")&&a.element.css("display","none"))},this.options.locker.tumblerInterval||500)}},_tumblerOff:function(){this.options.locker.tumbler&&!this.options.locker.off&&this._tumblerTicker&&(clearInterval(this._tumblerTicker),this._tumblerTicker=null)},_showContent:function(b){var c=this;this._stopTrackIFrameSizes();var d=function(){return c.overlap?(c.overlapBox&&c.overlapBox.hide(),c.blurArea&&c.blurArea.unblur()):c.locker&&c.locker.hide(),c.locker&&c.locker.hide(),b?(c.element.fadeIn(1e3,function(){c.options.effects.highlight&&c.element.effect&&c.element.effect("highlight",{color:"#fffbcc"},800)}),void 0):(c.element.show(),void 0)};if(this.options.content)if("string"==typeof this.options.content)this.element.html(this.options.content),d();else if("object"!=typeof this.options.content||this.options.content.url)if("object"==typeof this.options.content&&this.options.content.url){var e=a.extend(!0,{},this.options.content),f=e.success,g=e.complete,h=e.error;e.success=function(a,b,e){f?f(c,a,b,e):c.element.html(a),d()},e.error=function(a,b,d){c._setError("An error is triggered during the ajax request! Text: "+b+" "+d),h&&h(a,b,d)},e.complete=function(a,b){g&&g(a,b)},a.ajax(e)}else d();else this.element.append(this.options.content.clone().show()),d();else d()}}),a.fn.socialLock=function(b){b=a.extend({},b),a(this).sociallocker(b)})}(jQuery);